<div class="ticket-detail-container">
  <div class="ticket-detail-content">
    <!-- Back button -->
    <div class="back-button-container">
      <button class="back-button" (click)="goBack()">
        <mat-icon>chevron_left</mat-icon>
        <span>VOLTAR</span>
      </button>
    </div>

    <!-- Ticket Details Header -->
    <h1 class="detail-title">Detalhes do ingresso</h1>

    <!-- Ticket Summary Card -->
    <div class="ticket-summary-card">
      <div class="ticket-info">
        <h2 class="ticket-title">{{ ticketData()?.event?.name }}</h2>
        <p class="ticket-date">Data: {{ ticketData()?.event?.eventDate | date: 'dd/MM/yy' }} | {{ ticketData()?.event?.timelineEvent?.[0]?.hourInit }}</p>
        <p class="ticket-quantity">Quantidade: {{ numberOfTickets() }}</p>
      </div>
      <div class="ticket-status-price">
        <span class="ticket-status">{{ ticketData()?.status }}</span>
        <span class="ticket-price">{{ ticketData()?.event?.value === 0 ? 'Gratuito' : (ticketData()?.event?.value| currency: 'BRL') }}</span>
      </div>
    </div>

    <!-- Custom Tabs -->
    <div class="custom-tabs">
      <div class="tab-header">
        <button 
          class="tab-button" 
          [class.active]="selectedTabIndex === 0"
          (click)="selectTab(0)">
          QR Codes
        </button>
        <button 
          class="tab-button" 
          [class.active]="selectedTabIndex === 1"
          (click)="selectTab(1)">
          Detalhes do evento
        </button>
      </div>
      
      <div class="tab-content">
        <!-- QR Codes Tab -->
        <app-qr-codes-view 
          *ngIf="selectedTabIndex === 0" 
          [qrCode]="ticketData()?.qrcode"
          [eventName]="ticketData()?.event?.name"
          [eventDate]="ticketData()?.event?.eventDate">
        </app-qr-codes-view>
        
        <!-- Event Details Tab -->
        <app-event-view 
          *ngIf="selectedTabIndex === 1" 
          [eventId]="ticketData()?.event?.id">
        </app-event-view>
      </div>
    </div>
  </div>
</div>
